(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0af107"],{"0d74":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e._self._c;return t("bs-container",[t("bs-header",{scopedSlots:e._u([{key:"title",fn:function(){return[e._v("\n      执行器管理\n    ")]},proxy:!0}])},[e._v(" "),t("yh-button",{attrs:{type:"primary"},on:{click:e.handleAdd}},[e._v("\n      新增\n    ")])],1),e._v(" "),t("bs-body",[t("bs-table-mix",{attrs:{"fixed-height":""},scopedSlots:e._u([{key:"default",fn:function(a){var r=a._tableHeight;return[t("yh-table",{directives:[{name:"loading",rawName:"v-loading.lock",value:e.loadingFlag,expression:"loadingFlag",modifiers:{lock:!0}}],ref:"multipleTable",staticStyle:{width:"100%"},attrs:{"highlight-current-row":"",data:e.tableData,height:r,stripe:"","all-border":""}},[t("yh-table-column",{attrs:{label:"排序",prop:"order",width:"80"}}),e._v(" "),t("yh-table-column",{attrs:{label:"AppName",prop:"appName"}}),e._v(" "),t("yh-table-column",{attrs:{label:"名称",prop:"title"}}),e._v(" "),t("yh-table-column",{attrs:{label:"注册方式",width:"140"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n              "+e._s(0===t.row.addressType?"自动注册":"手动录入")+"\n            ")]}}],null,!0)}),e._v(" "),t("yh-table-column",{attrs:{label:"OnLine 机器地址",prop:"addressList"}}),e._v(" "),t("yh-table-column",{attrs:{width:"120",label:"操作",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("yh-button",{attrs:{type:"text"},on:{click:function(t){return e.handleEdit(a.row)}}},[e._v("\n                编辑\n              ")]),e._v(" "),t("yh-button",{staticClass:"fe-btn-delete",attrs:{type:"text"},on:{click:function(t){return e.handleDelete(a.row)}}},[e._v("\n                删除\n              ")])]}}],null,!0)})],1)]}}])},[t("template",{slot:"filter-btns"},[t("span")]),e._v(" "),e._v(" "),t("template",{slot:"pagination"},[t("div",{staticClass:"fe-clear-both"},[t("yh-pagination",{staticClass:"fe-fr",attrs:{"current-page":e.search.current,"page-sizes":[15,30,45,60],"page-size":e.search.size,total:e.search.total,background:"",layout:"total, sizes, prev, pager, next, jumper"},on:{"update:currentPage":function(t){return e.$set(e.search,"current",t)},"update:current-page":function(t){return e.$set(e.search,"current",t)},"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)])],2)],1),e._v(" "),t("yh-dialog",{attrs:{"close-on-click-modal":!1,"close-on-press-escape":!1,title:e.dialogTitle,visible:e.dialogVisible,"custom-class":"fe-dialog",width:"657px","before-close":e.handleClose},on:{"update:visible":function(t){e.dialogVisible=t}}},[t("yh-form",{ref:"editForm",attrs:{model:e.editForm,rules:e.rules,"label-width":"90px"}},[t("yh-form-item",{attrs:{label:"AppName",prop:"appName"}},[t("yh-input",{attrs:{placeholder:"请输入AppName",clearable:"",maxlength:"50"},model:{value:e.editForm.appName,callback:function(t){e.$set(e.editForm,"appName","string"===typeof t?t.trim():t)},expression:"editForm.appName"}})],1),e._v(" "),t("yh-form-item",{attrs:{label:"名称",prop:"title"}},[t("yh-input",{attrs:{placeholder:"请输入名称",clearable:"",maxlength:"50"},model:{value:e.editForm.title,callback:function(t){e.$set(e.editForm,"title","string"===typeof t?t.trim():t)},expression:"editForm.title"}})],1),e._v(" "),t("yh-form-item",{attrs:{label:"排序",prop:"order"}},[t("yh-input",{attrs:{placeholder:"请输入排序",clearable:"",maxlength:"10"},model:{value:e.editForm.order,callback:function(t){e.$set(e.editForm,"order","string"===typeof t?t.trim():t)},expression:"editForm.order"}})],1),e._v(" "),t("yh-form-item",{attrs:{label:"注册方式",prop:"addressType"}},[t("yh-radio-group",{on:{change:e.changeAddressType},model:{value:e.editForm.addressType,callback:function(t){e.$set(e.editForm,"addressType",t)},expression:"editForm.addressType"}},[t("yh-radio",{attrs:{label:0}},[e._v("\n            自动注册\n          ")]),e._v(" "),t("yh-radio",{attrs:{label:1}},[e._v("\n            手动录入\n          ")])],1)],1),e._v(" "),t("yh-form-item",{attrs:{label:"机器地址",prop:"addressList",rules:{required:1===e.editForm.addressType,message:"请输入机器地址",trigger:"blur"}}},[t("yh-input",{attrs:{disabled:0===e.editForm.addressType,placeholder:"请输入执行器地址列表，多地址逗号分隔",type:"textarea",maxlength:"500",rows:4,"show-word-limit":""},model:{value:e.editForm.addressList,callback:function(t){e.$set(e.editForm,"addressList",t)},expression:"editForm.addressList"}})],1)],1),e._v(" "),t("span",{attrs:{slot:"footer"},slot:"footer"},[t("yh-button",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:e.loadingFlag,expression:"loadingFlag",modifiers:{fullscreen:!0,lock:!0}}],attrs:{type:"primary"},on:{click:e.handleSaveEditForm}},[e._v("保存")]),e._v(" "),t("yh-button",{on:{click:e.handleClose}},[e._v("取消")])],1)],1)],1)},i=[],l=a("365c"),n={name:"ActuatorManage",data:function(){var e=function(e,t,a){var r=/^[a-z][a-zA-Z0-9-]*$/;r.test(t)?a():a(new Error("限制以小写字母开头，由字母、数字和中划线组成"))},t=function(e,t,a){var r=/^([1-9]\d{0,2}|1000)$/;r.test(t)?a():a(new Error("请输入1~1000的合法整数"))};return{search:{size:15,total:0,current:1},tableData:[],loadingFlag:!1,dialogVisible:!1,editForm:{appName:"",title:"",order:"",addressType:0,addressList:""},rules:{appName:[{required:!0,message:"请输入AppName",trigger:"blur"},{min:4,max:64,message:"AppName长度限制为4~64",trigger:"blur"},{validator:e,trigger:"blur"}],title:{required:!0,message:"请输入名称",trigger:"blur"},order:[{required:!0,message:"请输入1~1000的合法整数",trigger:"blur"},{validator:t,trigger:"blur"}],addressType:{required:!0,message:"请选择注册方式",trigger:"change"}},dialogTitle:"新增"}},mounted:function(){this.handleSearchData()},methods:{handleSearchData:function(){var e=this,t=JSON.parse(JSON.stringify(this.search));t.start=this.search.current-1,t.length=this.search.size,this.loadingFlag=!0,Object(l["g"])(t).then((function(t){var a=t.data||{},r=a.data,i=a.recordsTotal;e.tableData=r||[],e.search.total=i||0})).finally((function(){e.loadingFlag=!1}))},handleSizeChange:function(e){this.search.size=e,this.handleSearchData()},handleCurrentChange:function(e){this.search.current=e,this.handleSearchData()},handleAdd:function(){var e=this;this.dialogTitle="新增",this.dialogVisible=!0,this.$nextTick((function(){delete e.editForm.id}))},handleEdit:function(e){var t=this;this.dialogTitle="编辑",this.dialogVisible=!0,this.$nextTick((function(){Object.keys(t.editForm).forEach((function(a){t.editForm[a]=e[a]})),t.editForm.id=e.id}))},handleSaveEditForm:function(){var e=this;this.$refs.editForm.validate((function(t){if(t){var a=e.editForm,r="新增"===e.dialogTitle?l["j"]:l["k"];return e.loadingFlag=!0,r(a).then((function(){e.$message.success("".concat(e.dialogTitle,"成功")),e.handleClose(),e.handleSearchData()})).finally((function(){e.loadingFlag=!1})),!0}return!1}))},handleClose:function(){this.$refs.editForm.resetFields(),this.dialogVisible=!1},changeAddressType:function(){this.editForm.addressList="",this.$refs.editForm.clearValidate("addressList")},handleDelete:function(e){var t=this;this.$confirm("确定删除执行器？","提示",{confirmButtonText:"确定",cancelButtonText:"取消"}).then((function(){t.loadingFlag=!0,Object(l["i"])({id:e.id}).then((function(e){t.$message.success("删除成功"),t.handleSearchData()})).finally((function(){t.loadingFlag=!1}))}))}}},s=n,o=a("2877"),d=Object(o["a"])(s,r,i,!1,null,"1ac8ba9d",null);t["default"]=d.exports}}]);